(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{232:function(t,e,n){var content=n(239);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(130).default)("bc7ebe98",content,!0,{sourceMap:!1})},238:function(t,e,n){"use strict";n(232)},239:function(t,e,n){var o=n(129)(!1);o.push([t.i,"\n.phoneix_box[data-v-2f9d7e82] {\n  position: relative;\n}\n.phoneix_input[data-v-2f9d7e82] {\n  position: relative;\n  background: transparent;\n  font-size: 1em;\n  text-align: left;\n  border: none;\n  outline: none;\n  width: 10em;\n  font-weight: inherit;\n}\n.phoneix_input.placeholder[data-v-2f9d7e82] {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n",""]),t.exports=o},240:function(t,e,n){"use strict";n.r(e);n(31),n(62),n(37),n(38),n(48);var o={name:"Phoneix",props:{value:String,color:{type:String,default:"#e7e7e7"},color_ph:{type:String,default:"#595959"},base:{type:String,default:"7"}},data:function(){return{phone:"+".concat(this.base," ("),ideal:"+".concat(this.base," (000) 000-00-00"),phone_history:["+".concat(this.base," (")],history_position:0,old_position:4,selection_start:4,selection_length:0}},computed:{placeholder:function(){return this.phone+this.ideal.substr(this.phone.length)},raw:function(){return this.phone.replace(/\D+/g,"")},old:function(){return this.phone_history.slice(-1)[0]}},methods:{onSelect:function(t){this.selection_start=t.target.selectionStart,this.selection_length=t.target.selectionEnd-t.target.selectionStart,this.selection_start<4&&(this.selection_length-=4+this.selection_start,this.selection_start=4,t.target.selectionStart=this.selection_start)},selectionReplace:function(source,t,e,n){return source.substr(0,t)+n+source.substr(t+e)},input:function(t){var e=this,n=this.$refs.phoneix_input.selectionStart,o=!0,h={data:t.data,input_type:t.inputType};if("insertFromPaste"===h.input_type&&!h.data){var r=this.phone.length-this.old.length;h.data=this.phone.substr(this.old_position,r)}if("insertText"===h.input_type||["insertFromPaste","insertFromDrop"].includes(h.input_type)&&1===h.data.length)isNaN(h.data)||" "===h.data||1!==h.data.length?(isNaN(h.data)&&1===h.data.length||" "===h.data)&&((n=this.transform_position(n))===this.phone.length||[8,10,13,16].includes(n)||(n-=1,this.phone=this.old),console.log(n)):(this.$refs.phoneix_input.selectionStart<5&&(this.phone=this.old+h.data,n=5),this.selection_length&&this.selectionReplace(this.phone,this.selection_start,this.selection_length,h.data),n=this.transform_position(n));else if(["insertFromPaste","insertFromDrop"].includes(h.input_type)){var l=h.data.replace(/\D+/g,"");if(/[78]?9[0-9]{9}/gm.test(l))this.phone=["8"].includes(l.substr(0,1))?this.base+l.substr(1):l;else if(/[0-9()\- ]{1,17}/gm.test(h.data)){this.phone=this.old;var c=h.data.replace(/\D+/g,"");this.phone=this.selectionReplace(this.phone,this.selection_start,this.selection_length,c)}}else"deleteContentBackward"===h.input_type&&([7,8].includes(n)?(this.phone=this.formatted_phone({raw:this.raw.substr(0,3)+this.raw.substr(4)}),n=6):12===n?(this.phone=this.formatted_phone({raw:this.raw.substr(0,6)+this.raw.substr(7)}),n=11):16===n&&(this.phone=this.formatted_phone({raw:this.raw.substr(0,9)+this.raw.substr(9)}),n=15),o=!1,n=this.transform_position(n,o));"historyUndo"===h.input_type?(this.history_position-=1,this.phone=this.phone_history[this.history_position]):"historyRedo"===h.input_type?(this.history_position+=1,this.phone_history=this.phone_history[this.history_position+1]):(this.$nextTick((function(){e.$refs.phoneix_input.setSelectionRange(n,n)})),this.phone=this.formatted_phone({adding:o,position:n}),this.old_position=n,this.phone_history.slice(0,this.history_position),this.phone_history.push(this.phone),this.history_position=this.phone_history.length-1)},transform_position:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?7===t?9:8===t||9===t?10:12===t?13:13===t&&"-"!==this.phone.substr(-1)?14:15===t?16:16===t&&"-"!==this.phone.substr(-1)?17:t:8===t?7:12===t?11:13===t&&"-"!==this.phone.substr(-1)?14:t},formatted_phone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.adding,n=void 0===e||e,o=t.raw,h=void 0!==o&&o,r=t.position,l=void 0===r?20:r,c=(h=h||this.raw).substr(1,3),d=h.substr(4,3),_=h.substr(7,2),f=h.substr(9,2),m="+".concat(this.base," (");return c.length&&(m="+".concat(this.base," (").concat(c).concat(n&&3===c.length&&this.phone.length<l+1?") ":"")),d.length&&(m="+".concat(this.base," (").concat(c,") ").concat(d).concat(n&&3===d.length&&this.phone.length<l?"-":"")),_.length&&(m="+".concat(this.base," (").concat(c,") ").concat(d,"-").concat(_).concat(n&&2===_.length&&this.phone.length<l?"-":"")),f.length&&(m="+".concat(this.base," (").concat(c,") ").concat(d,"-").concat(_,"-").concat(f)),m}}},h=(n(238),n(54)),component=Object(h.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"phoneix_box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.placeholder,expression:"placeholder"}],staticClass:"phoneix_input placeholder",style:{color:t.color_ph},attrs:{type:"text"},domProps:{value:t.placeholder},on:{focus:function(e){return t.$refs.phoneix_input.focus()},input:function(e){e.target.composing||(t.placeholder=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],ref:"phoneix_input",staticClass:"phoneix_input",style:{color:t.color},attrs:{type:"tel",value:"+7 (",autofocus:""},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.input],select:t.onSelect}})])}),[],!1,null,"2f9d7e82",null);e.default=component.exports}}]);